{"is_source_file": true, "format": "Dart", "description": "This file defines a LocalStorageService class that provides methods to persist and retrieve user preferences, favorites, cart items, and user settings using shared_preferences in a Flutter app. It includes functions to get and save favorites, cart items, and user settings, and manages internal keys for storage.", "external_files": ["package:shared_preferences/shared_preferences.dart", "../models/cart_item.dart"], "external_methods": ["SharedPreferences.getInstance", "SharedPreferences.getStringList", "SharedPreferences.setStringList", "SharedPreferences.getString", "SharedPreferences.setString", "CartItem.fromJson", "CartItem.toJson"], "published": ["LocalStorageService.getInstance", "LocalStorageService.getFavorites", "LocalStorageService.saveFavorites", "LocalStorageService.getCart", "LocalStorageService.saveCart", "LocalStorageService.getUserSettings", "LocalStorageService.saveUserSettings"], "classes": [{"name": "LocalStorageService", "description": "A singleton service class that manages persistent storage of user preferences, cart items, and settings using shared_preferences."}], "methods": [{"name": "getInstance", "description": "Returns a singleton instance of LocalStorageService after asynchronously initializing SharedPreferences."}, {"name": "getFavorites", "description": "Retrieves the list of favorite book IDs from local storage."}, {"name": "saveFavorites", "description": "Saves the list of favorite book IDs to local storage."}, {"name": "getCart", "description": "Retrieves the list of cart items stored locally by decoding the JSON string."}, {"name": "saveCart", "description": "Encodes the list of CartItem objects as JSON and saves it locally."}, {"name": "getUserSettings", "description": "Retrieves user settings stored as a JSON string and decodes into a Map."}, {"name": "saveUserSettings", "description": "Encodes user settings Map as JSON and saves to local storage."}], "calls": ["SharedPreferences.getInstance", "SharedPreferences.getStringList", "SharedPreferences.setStringList", "SharedPreferences.getString", "SharedPreferences.setString", "jsonDecode", "jsonEncode", "CartItem.fromJson", "CartItem.toJson"], "search-terms": ["shared_preferences", "local storage", "favorites", "cart", "user settings", "CartItem"], "state": 2, "file_id": 25, "knowledge_revision": 52, "git_revision": "", "hash": "cd7140107f712dfbb4016960d4038f07", "format-version": 4, "code-base-name": "booknest_mobile_frontend", "filename": "booknest_mobile_frontend/lib/services/local_storage_service.dart", "revision_history": [{"52": ""}]}